
<html>
<head>
  <meta charset="utf-8">
  <title>Tortoise Live Demo</title>
  <script src=
    "http://nathansuniversity.com/js/jquery-1.7.1.min.js">
  </script>
  <script src=
    "http://nathansuniversity.com/js/raphael-min.js">
  </script>
  <script src="TurtleParser.js"></script>
  <script src="TurtleIntepreter.js"></script>
</head>
<body>

<textarea id="input" style="width:700px; height:300px;">
forward(100);
</textarea>

<input id="submitbutton" type="button" value="Run" />

<div id="console" style="width:700px; height:100px; border: solid 1px;"></div>

<div id="turtlecanvas" style="width:700px; height:600px; background-color: #eee;"></div>

<script>
    var log_console = function (msg) {
        $('#console').append('<p>' + msg + '</p>');
    };
    $(function () {
        var myTurtle = new Turtle("turtlecanvas");
        var env = {};
        env = createDefault();
        $('#submitbutton').click(function () {
            var user_text = $('#input').val();
            $('#console').html('');
            myTurtle.clear();
            try {
                var parsed = TORTIOSE.parse(user_text);
                try {
                    var result = evalStatements(parsed, env);
                }
                catch (e) {
                    log_console('Eval Error: ' + e);
                }
            }
            catch (e) {
                log_console('Parse Error: ' + e);
            }
        });
    });
</script>

</body>
</html>
